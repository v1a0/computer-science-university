 

# DHCP

---

**DHCP** (Dynamic Host Configuration Protocol) - протокол динамической конфигурации хостов.

Для работы в сети компьютеру нужен IP-адрес.

Методы назначения IP-адресов

- Вручную;
- Автоматически.

Протокол DHCP позволяет автоматически назначать компьютерам в сети IP-адреса, но для этого нужен DHCP сервер. 

---

Клиент DHCP

- Компьюьер, котрый получает IP-адрес автоматичеки.

Сервер DHCP

- Компьютер, который обеспечивает назначение IP-адресов.
- Ведет таблицу выделенных IP-адресов, чтобы избежать дублирования.

Клиент и сервер обмениваются сообщениями DHCP в режиме запрос-ответ.

---

## Как компьютер получает IP-адрес при помощи DHCP сервера

![](https://github.com/v1a0/computer-science-university/blob/main/img/dhcp-dora.png)

![](https://github.com/v1a0/computer-science-university/blob/main/img/dhcp-dora-table.png)

---

## Назначения адресов DHCP

Фиксированный

- Выделенный IP-адрес для каждого MAC адреса

Динамический

- Выделение IP-адреса из пула адре

---

IP-адрес выдается DHCP клиенту на ограниченное время, а после его окончания адрес освобождается.

DHCP-клиент может продлить использование IP-адреса.

- Продление после половины срока аренды;
- Сокращенная процедура получения IP-адреса.

----

## Окончание использования IP-адреса

- Сообщение DHCP Release;
- Сервер может назначить освободившийся адрес клиенту.

Сообщение DHCP Release автоматически отпровляется современными OC при корректном выключении.

Отсутствие сообщения DHCP Release

- Для окончания срока аренды DHCP сервер считает алрес занятым;
- После окончания аренды адрес освобождается.

---

## Конфигурационная информация

Для работы в сети нужен не только IP-адрес, но и конфигурационные параметры, которые передаются сервером в качестве опций.

### DHCP предоставляет дополнительно

- Маску подсети;
- Маршрутизатор по умолчанию (шлюз);
- Адреса DNS-серверов;
- Адреса серверов времени;
- Маршруты.
# STP - Spanning Tree Protocol IEEE 802.1D

---

**Ethernet** не может быть соединена в кольцо, так как возникает **широковещательный шторм**

---

## Потокол связующего дерева

- Автоматическое отключение дублтрующихся соединений Ethernet;
- Связующее дерево - этоподшраф без циклов, который содержит все вершины исходного графа.

## Приеимущества

- Надежность соединений между коммутаторами;
- Защита от ошибок конфигурации.

---

## Этапы работы протокола

1. Выбор корневого коммутатора
2. Определение кратчайших путей до коммутатора
3. Отключение всех остальных соединений

---

## Сообщения протокола 

Коммутаторы обмениваются Bridge Protocol Data Units (BPDU) сообщениями каждые 2 секунды, все эти сообщения отправляются на один групповой мак адрес 01:80:C2:00:00:00.

---

## Состояние портов в STP

- Listening - порт обрабатывает BPDU, но не передает данные;
- Learning - порт не предает кадры, но изучает MAC-адреса и заполняет своб таблийу коммутации;
- Forwarding - порт принимает и передает данные BPDU;
- Blocking - порт зпблокирован, чтобы избежать кольцевого соединения;
- Disabled - порт выключен администратором.

---

